{"remainingRequest":"C:\\Users\\web\\Desktop\\MyProject\\vue-ui\\vue_app\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\web\\Desktop\\MyProject\\vue-ui\\vue_app\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\web\\Desktop\\MyProject\\vue-ui\\vue_app\\src\\components\\books\\chatwindow.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\web\\Desktop\\MyProject\\vue-ui\\vue_app\\src\\components\\books\\chatwindow.vue","mtime":1551668703793},{"path":"C:\\Users\\web\\Desktop\\MyProject\\vue-ui\\vue_app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1534853416000},{"path":"C:\\Users\\web\\Desktop\\MyProject\\vue-ui\\vue_app\\node_modules\\babel-loader\\lib\\index.js","mtime":1529635966000},{"path":"C:\\Users\\web\\Desktop\\MyProject\\vue-ui\\vue_app\\node_modules\\vue-loader\\lib\\index.js","mtime":1527860006000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    return {\n      arr: [],\n      a: '',\n      b: \"\",\n      value: \"\",\n      c: \"\",\n      ws: \"\",\n      d: \"\"\n    };\n  },\n  methods: {\n    chat: function chat() {\n      var _this = this;\n\n      var uid = 1;\n      var url = \"http://127.0.0.1:3000/chat?uid=\" + uid;\n      this.axios.get(url).then(function (result) {\n        _this.arr = result.data.data;\n        _this.a = _this.arr[0].uname;\n        _this.b = _this.arr[0].avatar; //console.log(this.arr)\n      });\n    },\n    send: function send() {\n      var _this2 = this;\n\n      var uid = 1;\n      var url = \"http://127.0.0.1:3000/send?uid=\" + uid + \"&msg=\" + this.value;\n      this.axios.get(url).then(function (result) {\n        //console.log(result)\n        if (result.data.code == 1) {\n          _this2.c = _this2.value;\n          _this2.value = \"\";\n\n          _this2.webst();\n        }\n      });\n    },\n    webst: function webst() {\n      this.ws = new WebSocket(\"ws://127.0.0.1:9001\");\n\n      this.ws.onmessage = function (e) {\n        console.log(e.data);\n      };\n    }\n  },\n  created: function created() {\n    this.chat();\n  }\n};",{"version":3,"sources":["chatwindow.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCA,eAAA;AACA,MADA,kBACA;AACA,WAAA;AACA,WAAA,EADA;AAEA,SAAA,EAFA;AAGA,SAAA,EAHA;AAIA,aAAA,EAJA;AAKA,SAAA,EALA;AAMA,UAAA,EANA;AAOA,SAAA;AAPA,KAAA;AASA,GAXA;AAYA,WAAA;AACA,QADA,kBACA;AAAA;;AACA,UAAA,MAAA,CAAA;AACA,UAAA,MAAA,oCAAA,GAAA;AACA,WAAA,KAAA,CAAA,GAAA,CAAA,GAAA,EAAA,IAAA,CAAA,kBAAA;AACA,cAAA,GAAA,GAAA,OAAA,IAAA,CAAA,IAAA;AACA,cAAA,CAAA,GAAA,MAAA,GAAA,CAAA,CAAA,EAAA,KAAA;AACA,cAAA,CAAA,GAAA,MAAA,GAAA,CAAA,CAAA,EAAA,MAAA,CAHA,CAIA;AACA,OALA;AAMA,KAVA;AAWA,QAXA,kBAWA;AAAA;;AACA,UAAA,MAAA,CAAA;AACA,UAAA,MAAA,oCAAA,GAAA,GAAA,OAAA,GAAA,KAAA,KAAA;AACA,WAAA,KAAA,CAAA,GAAA,CAAA,GAAA,EAAA,IAAA,CAAA,kBAAA;AACA;AACA,YAAA,OAAA,IAAA,CAAA,IAAA,IAAA,CAAA,EAAA;AACA,iBAAA,CAAA,GAAA,OAAA,KAAA;AACA,iBAAA,KAAA,GAAA,EAAA;;AACA,iBAAA,KAAA;AAEA;AACA,OARA;AASA,KAvBA;AAwBA,SAxBA,mBAwBA;AACA,WAAA,EAAA,GAAA,IAAA,SAAA,CAAA,qBAAA,CAAA;;AACA,WAAA,EAAA,CAAA,SAAA,GAAA,UAAA,CAAA,EAAA;AACA,gBAAA,GAAA,CAAA,EAAA,IAAA;AAEA,OAHA;AAIA;AA9BA,GAZA;AA4CA,SA5CA,qBA4CA;AACA,SAAA,IAAA;AACA;AA9CA,CAAA","sourcesContent":["<template>\r\n    <div class=\"app-chatwindow\">\r\n        <header class=\"mui-bar mui-bar-nav\" style=\"background:#1de8b3;\">\r\n\t\t\t<router-link class=\"mui-action-back mui-icon mui-icon-left-nav mui-pull-left\" to=\"/chat\"></router-link>\r\n\t\t\t<h1 class=\"mui-title\" style=\"color:#fff;\">chat ({{a}})</h1>\r\n\t\t</header>\r\n\t\t<div class=\"mui-content\">\r\n\t\t\t<div id='msg-list'>\r\n\t\t\t\t<div style=\"float:right\">\r\n\t\t\t\t\t<div style=\"display:inline-block;font-size:10px;\"><p style=\"background:#1de8b3;border-radius:5px;padding:8px;margin-right:5px;vertical-align=top;margin-top:5px;color:#fff;\">{{c}}</p></div>\r\n\t\t\t\t\t<img :src=\"b\" style=\"width:45px;height:45px;float:right;\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<table style=\"clear:both\"></table>\r\n\t\t\t</div>\r\n\t\t\t<div id='msg-list'>\r\n\t\t\t\t<div style=\"float:left\">\r\n\t\t\t\t\t<div style=\"display:inline-block;font-size:10px;\"><p style=\"background:#1de8b3;border-radius:5px;padding:8px;margin-left:5px;vertical-align=top;margin-top:5px;color:#fff;\">{{d}}</p></div>\r\n\t\t\t\t\t<img :src=\"b\" style=\"width:45px;height:45px;float:left;\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<table style=\"clear:both\"></table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n        <footer style=\"margin:5px 0px;border-top:1px solid #aaa;height:50px;border-bottom:1px solid #aaa;position:relative;bottom:-379px;\">\r\n\t\t\t<div class=\"footer-left\">\r\n\t\t\t\t<i id='msg-image' class=\"mui-icon mui-icon-mic\" style=\"font-size: 28px;float:left;margin:8px 8px;\"></i>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"footer-center\">\r\n\t\t\t\t<textarea id='msg-text' type=\"text\" class='input-text' style=\"width:268px;float:left;height:40px;margin:4px 0;\" v-model=\"value\"></textarea>\r\n\t\t\t\t<button id='msg-sound' type=\"button\" class='input-sound' style=\"display: none;\">按住说话</button>\r\n\t\t\t</div>\r\n\t\t\t<label class=\"footer-right\">\r\n\t\t\t\t<button id='msg-type' style=\"margin:4px 8px;width:45px;height:40px;padding:0;float:left;background:#1de8b3;color:#fff;\" @click=\"send\">发送</button>\r\n\t\t\t</label>\r\n\t\t</footer>\r\n    </div>\r\n</template>\r\n<script>\r\n    export default{\r\n        data(){\r\n            return {\r\n\t\t\t\tarr:[],\r\n\t\t\t\ta:'',\r\n\t\t\t\tb:\"\",\r\n\t\t\t\tvalue:\"\",\r\n\t\t\t\tc:\"\",\r\n\t\t\t\tws:\"\",\r\n\t\t\t\td:\"\"\r\n\t\t\t}\r\n        },\r\n\t\tmethods:{\r\n\t\tchat(){\r\n\t\t\t\tvar uid=1;\r\n\t\t\t\tvar url=\"http://127.0.0.1:3000/chat?uid=\"+uid;\r\n\t\t\t\tthis.axios.get(url).then(result=>{\r\n\t\t\t\t\tthis.arr=result.data.data;\r\n\t\t\t\t\tthis.a=this.arr[0].uname;\r\n\t\t\t\t\tthis.b=this.arr[0].avatar;\r\n\t\t\t\t\t//console.log(this.arr)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\tsend(){\r\n\t\t\tvar uid=1;\r\n\t\t\tvar url=\"http://127.0.0.1:3000/send?uid=\"+uid+\"&msg=\"+this.value;\r\n\t\t\tthis.axios.get(url).then(result=>{\r\n\t\t\t\t//console.log(result)\r\n\t\t\t\tif(result.data.code==1){\r\n\t\t\t\t\tthis.c=this.value;\r\n\t\t\t\t\tthis.value=\"\";\r\n\t\t\t\t\tthis.webst();\r\n\t\t\r\n\t\t\t\t\t }\r\n\t\t\t})\r\n\t\t},\r\n\t\twebst(){\r\n            this.ws=new WebSocket(\"ws://127.0.0.1:9001\");\r\n            this.ws.onmessage=function(e){\r\n\t\t\t\tconsole.log(e.data);\r\n\t\t\t\t\r\n            }\r\n        }\r\n\t\t},\r\n\t\tcreated(){\r\n\t\t\tthis.chat();\r\n\t\t}\r\n    }\r\n</script>\r\n<style>\r\n    .app-chatwindow{height:600px;}\r\n</style>"],"sourceRoot":"src\\components\\books"}]}